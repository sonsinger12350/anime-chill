 RewriteEngine On
Options +FollowSymlinks
RewriteCond %{HTTP_HOST} ^localhost
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^tim-kiem/(.*).html$ ./?models=/tim-kiem/$1 [L]
RewriteRule ^info/(.*).html$ ./?models=/movie-info/$1 [L]
RewriteRule ^watch/(.*)-episode-id-(.*).html$ ./?models=/movie-watch/$1/$2 [L]
RewriteRule ^404-page$ ./?models=/404-page/ [L]
RewriteRule ^terms$ ./?models=/terms/ [L]
RewriteRule ^player-ads.xml$ ./?models=/player-ads/ [L]
RewriteRule ^tvc$ ./?models=/tvc/ [L]
RewriteRule ^confirm-robot$ ./?models=/firewall/ [L]
RewriteRule ^website/bao-tri$ ./?models=/bao-tri/ [L]
RewriteRule ^sitemap\.xml$ /./?models=/sitemap/ [L]
RewriteRule ^moi-cap-nhat$ /./?models=/movie-lastest/ [L]
RewriteRule ^phim-hoan-thanh$ /./?models=/movie-complete/ [L]
RewriteRule ^bang-xep-hang-phim$ /./?models=/movie-top/ [L,QSA]
RewriteRule ^lich-chieu$ /./?models=/movie-showtimes/ [L]
RewriteRule ^lich-su$ ./?models=/movie-history/ [L]
RewriteRule ^tim-kiem$ ./?models=/search/$1 [L,QSA]
RewriteRule ^bookmark$ ./?models=/movie-bookmark/ [L]
RewriteRule ^author/(.*)$ ./?models=/author/$1 [L]
RewriteRule ^the-loai/(.*)$ ./?models=/movie-category/$1 [L]

#Admin
RewriteRule ^admin_movie$ ./?admin=/home/ [L]
RewriteRule ^admin_movie/login$ ./?admin=/login/ [L]
RewriteRule ^admin_movie/change-password$ ./?admin=/change-password/ [L]
RewriteRule ^admin_movie/category$ ./?admin=/category/ [L]
RewriteRule ^admin_movie/year$ ./?admin=/year/ [L]
RewriteRule ^admin_movie/server$ ./?admin=/server/ [L]
RewriteRule ^admin_movie/admin$ ./?admin=/admin/ [L]
RewriteRule ^admin_movie/add-movie$ ./?admin=/add-movie/ [L]
RewriteRule ^admin_movie/movie$ ./?admin=/movie/ [L]
RewriteRule ^admin_movie/episode-movie$ ./?admin=/episode-movie/ [L]
RewriteRule ^admin_movie/danh_hieu$ ./?admin=/danh_hieu/ [L]
RewriteRule ^admin_movie/khung_vien$ ./?admin=/khung_vien/ [L]
RewriteRule ^admin_movie/cua_hang_vat_pham/(.*).html$ ./?admin=/cua-hang-vat-pham/&type=$1 [L]
RewriteRule ^admin_movie/author/icon$ ./?admin=/icon/ [L]
RewriteRule ^admin_movie/author$ ./?admin=/author/ [L]
RewriteRule ^admin_movie/comments$ ./?admin=/comments/ [L]
RewriteRule ^admin_movie/notice$ ./?admin=/notice/ [L]
RewriteRule ^admin_movie/general_info$ ./?admin=/general_info/ [L]
RewriteRule ^admin_movie/report$ ./?admin=/report/ [L]
RewriteRule ^admin_movie/the_nap$ ./?admin=/the_nap/ [L]
RewriteRule ^admin_movie/lien_he$ ./?admin=/lien_he/ [L]
RewriteRule ^admin_movie/cai_dat$ ./?admin=/cai_dat/ [L]
RewriteRule ^admin_movie/ads$ ./?admin=/ads/ [L]
RewriteRule ^admin_movie/movie-lien-ket$ ./?admin=/movie-lien-ket/ [L]
RewriteRule ^admin_movie/file-manager$ ./?admin=/file-manager/ [L]
RewriteRule ^admin_movie/news$ ./?admin=/news/ [L]
#Author
RewriteRule ^login-google-callback$ ./?author=/login-google-callback [L,QSA]
RewriteRule ^dang-xuat$ ./?author=/dang-xuat/ [L]
RewriteRule ^trang-ca-nhan/(.*)$ ./?author=/trang-ca-nhan/$1 [L]

#Api Http Request
RewriteRule ^server/api$ ./?api=/api/ [L]
RewriteRule ^admin/server/api$ ./?api=/admin-api/ [L]
RewriteRule ^admin/server/edit$ ./?api=/admin-edit/ [L]
RewriteRule ^server/ajax/player$ ./?api=/player/ [L]
RewriteRule ^server/token$ ./?api=/token/ [L]
RewriteRule ^server/ajax/phim-de-cu$ ./?api=/phim-de-cu/ [L]
ErrorDocument 404 /
ErrorDocument 500 /
ErrorDocument 403 /
<Files 403.shtml>
    order allow,deny
    allow from all
</Files>
#Phần Này Dung Để Block IP
# Disable the server signature
ServerSignature Off
# Disable directory browsing
Options All -Indexes
# lindungi file .htaccess
<files .htaccess>
    Order Allow,Deny
    Deny from all
</files>
<ifModule mod_headers.c>
    Header set Connection keep-alive
    Header set X-XSS-Protection "1; mode=block"
    header set X-Content-Type-Options "nosniff"
    Header unset ETag
    Header always unset X-Powered-By
    Header unset X-Powered-By
    #cors policy
    SetEnvIf Origin "http(s)?://(www\.)?(127.0.0.1|localhost|imasdk.googleapis.com|playervideo.xyz)$" AccessControlAllowOrigin=$0
    Header add Access-Control-Allow-Origin %{AccessControlAllowOrigin}e env=AccessControlAllowOrigin
    Header set Access-Control-Allow-Credentials true
    #show file size when downloading the video
    SetEnv no-gzip dont-vary
    <FilesMatch "\.(webm|ogg|mp4|mkv|ts|m3u8|m3u|mpd|vtt|srt)$">
        Header set Cache-Control "max-age=7200"
    </FilesMatch>
</IfModule>
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access 1 month"
    ExpiresByType image/jpg "access 1 year"
    ExpiresByType image/jpeg "access 1 year"
    ExpiresByType image/gif "access 1 year"
    ExpiresByType image/png "access 1 year"
    ExpiresByType image/svg "access 1 year"
    ExpiresByType text/css "access 1 month"
    ExpiresByType application/pdf "access 1 month"
    ExpiresByType application/javascript "access 1 month"
    ExpiresByType application/x-javascript "access 1 month"
    ExpiresByType application/x-shockwave-flash "access 1 month"
    ExpiresByType image/x-icon "access 1 year"
</IfModule>
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/cache-manifest
    AddOutputFilterByType DEFLATE text/vtt
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE text/javascript
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE image/x-icon
    AddOutputFilterByType DEFLATE image/svg+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/x-font
    AddOutputFilterByType DEFLATE application/x-font-truetype
    AddOutputFilterByType DEFLATE application/x-font-ttf
    AddOutputFilterByType DEFLATE application/x-font-otf
    AddOutputFilterByType DEFLATE application/x-font-opentype
    AddOutputFilterByType DEFLATE application/vnd.ms-fontobject
    AddOutputFilterByType DEFLATE font/eot
    AddOutputFilterByType DEFLATE font/ttf
    AddOutputFilterByType DEFLATE font/otf
    AddOutputFilterByType DEFLATE font/opentype
    AddOutputFilterByType DEFLATE font/woff2
    # For Older Browsers Which Can't Handle Compression
    BrowserMatch ^Mozilla/4 gzip-only-text/html
    BrowserMatch ^Mozilla/4\.0[678] no-gzip
    BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
</IfModule>
<IfModule mod_gzip.c>
    mod_gzip_on Yes
    mod_gzip_dechunk Yes
    mod_gzip_item_include file \.(html?|txt|css|js|php|pl)$
    mod_gzip_item_include mime ^application/x-javascript.*
    mod_gzip_item_include mime ^text/.*
    mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
    mod_gzip_item_exclude mime ^image/.*
    mod_gzip_item_include handler ^cgi-script$
</IfModule>

# php -- BEGIN cPanel-generated handler, do not edit
# Set the “ea-php74” package as the default “PHP” programming language.
<IfModule mime_module>
  #AddHandler application/x-httpd-ea-php74 .php .php7 .phtml
</IfModule>
# php -- END cPanel-generated handler, do not edit
